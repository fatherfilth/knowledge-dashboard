---
phase: 08-design-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/globals.css
  - src/app/layout.tsx
  - src/components/ui/StatusBadge.tsx
autonomous: true

must_haves:
  truths:
    - "Site has dark navy background (#0B1120) with teal/purple/amber accent colors"
    - "Cabinet Grotesk and Satoshi fonts load from Fontshare and apply to headings/body"
    - "Sticky floating navbar with glass effect and backdrop blur is visible on all pages"
    - "Skip navigation link appears on focus for accessibility"
    - "Background mesh gradient is visible behind all content"
    - "Status badges display as pills with colored dots"
    - "Animations respect prefers-reduced-motion"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Tailwind @theme with all design tokens, background mesh, accessibility CSS, prose overrides"
      contains: "@theme"
    - path: "src/app/layout.tsx"
      provides: "Fontshare font links, glass navbar, skip nav, background mesh div"
      contains: "fontshare"
    - path: "src/components/ui/StatusBadge.tsx"
      provides: "Pill-shaped badges with colored dot indicators"
      contains: "rounded-pill"
  key_links:
    - from: "src/app/globals.css"
      to: "Tailwind utilities"
      via: "@theme directive"
      pattern: "--color-navy|--color-teal|--font-display"
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "theme classes applied to body and nav"
      pattern: "bg-navy|font-body"
---

<objective>
Establish the design system foundation: Tailwind CSS 4 theme configuration with all color tokens, typography, and custom utilities; replace Inter with Cabinet Grotesk + Satoshi from Fontshare; redesign the root layout with glass navbar, skip navigation, and background mesh; restyle StatusBadge as pill with colored dot.

Purpose: Every subsequent plan depends on these design tokens and the dark theme being active. This is the single foundation that unlocks all other visual work.
Output: globals.css with complete @theme, layout.tsx with new navbar and fonts, StatusBadge with pill design.
</objective>

<execution_context>
@C:/Users/Karl/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Karl/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-design-polish/08-CONTEXT.md
@.planning/phases/08-design-polish/08-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Tailwind theme configuration and global CSS</name>
  <files>src/app/globals.css</files>
  <action>
Replace the entire globals.css with the new design system. Structure:

1. **@import and @theme directive** with all design tokens:
   - Colors: `--color-navy: #0B1120`, `--color-elevated: #141B2D`, `--color-glass: rgba(255, 255, 255, 0.05)`, `--color-teal: #00E5CC`, `--color-amber: #FFB347`, `--color-purple: #8B5CF6`, `--color-code-bg: #1A2235`
   - Text colors: `--color-primary: #E2E8F0`, `--color-muted: #94A3B8`
   - Category colors: `--color-models: #8B5CF6`, `--color-tools: #00E5CC`, `--color-skills: #FFB347`, `--color-repos: #F472B6`, `--color-agents: #38BDF8`, `--color-projects: #34D399`
   - Status colors: `--color-complete: #22C55E`
   - Typography: `--font-display: 'Cabinet Grotesk', system-ui, sans-serif`, `--font-body: 'Satoshi', system-ui, sans-serif`
   - Border radius: `--radius-pill: 100px`, `--radius-card: 1rem`
   - Custom breakpoints: `--breakpoint-xs: 30rem`, `--breakpoint-sm: 48rem` (replaces default sm), `--breakpoint-md: 48rem`, `--breakpoint-lg: 64rem`
   - Animation keyframes: `fade-up` (translateY(1rem) to 0, opacity 0 to 1, 500ms ease)
   - `--animate-fade-up: fade-up 500ms ease`

2. **@theme inline** block:
   - `--font-sans: 'Satoshi', system-ui, sans-serif` (so font-sans utility uses Satoshi)

3. **@plugin** for typography

4. **Background mesh CSS class** (not a component):
   ```css
   .bg-mesh {
     position: fixed;
     inset: 0;
     z-index: 0;
     pointer-events: none;
     background:
       radial-gradient(ellipse 60% 50% at 10% 20%, rgba(0, 229, 204, 0.06) 0%, transparent 60%),
       radial-gradient(ellipse 50% 40% at 85% 15%, rgba(139, 92, 246, 0.05) 0%, transparent 55%),
       radial-gradient(ellipse 40% 50% at 50% 80%, rgba(255, 179, 71, 0.04) 0%, transparent 50%);
   }
   ```

5. **Skip navigation CSS**:
   ```css
   .skip-nav {
     position: absolute;
     top: -100%;
     left: 1rem;
     z-index: 100;
     padding: 0.5rem 1rem;
     background: #00E5CC;
     color: #0B1120;
     font-weight: 600;
     border-radius: 0 0 0.5rem 0.5rem;
     transition: top 200ms ease;
   }
   .skip-nav:focus {
     top: 0;
   }
   ```

6. **Prefers-reduced-motion** global rule:
   ```css
   @media (prefers-reduced-motion: reduce) {
     *, *::before, *::after {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
       scroll-behavior: auto !important;
     }
   }
   ```

7. **Focus-visible** global rule:
   ```css
   :focus-visible {
     outline: 3px solid #00E5CC;
     outline-offset: 2px;
   }
   ```

8. **Prose overrides** for dark mode article styling (using Tailwind typography customization):
   - Override prose heading styles: h2 gets border-top with `border-white/[0.08]`, `3rem` top margin, font-display, font-bold, tracking-tight
   - h3: font-display, font-bold, 2rem top margin
   - Links: teal color, underline
   - List markers: teal color
   - Blockquotes: purple left border (`#8B5CF6`), purple-tinted background (`rgba(139, 92, 246, 0.08)`), rounded-r-lg
   - Inline code: teal text, `#1A2235` background, 1px border `rgba(255,255,255,0.08)`, 4px radius
   - Code blocks: `#1A2235` background (already handled by rehype-pretty-code, but ensure wrapper styling)
   - Tables: subtle header row `rgba(255,255,255,0.04)`, hover row highlight
   - Body text color: `#E2E8F0`
   - Strong text: white
   - Use `@layer components` or direct `.prose` overrides (NOT @utility, these should always be included)

NOTE: Do NOT remove `@plugin "@tailwindcss/typography"`.

IMPORTANT: For custom breakpoints in Tailwind CSS 4, only override the ones we need. The `--breakpoint-xs: 30rem` adds a new breakpoint. The existing Tailwind defaults (sm=40rem, md=48rem, lg=64rem, xl=80rem) should remain. We just add `xs` for small mobile. Do NOT redefine sm/md/lg if they match defaults already.
  </action>
  <verify>Run `npx next build` — build should succeed without CSS errors. Check that the output mentions no Tailwind theme errors.</verify>
  <done>globals.css contains @theme with all color tokens, font families, border-radius, animation keyframes, background mesh class, skip-nav class, prefers-reduced-motion rule, focus-visible rule, and prose dark mode overrides. Build succeeds.</done>
</task>

<task type="auto">
  <name>Task 2: Root layout and StatusBadge redesign</name>
  <files>src/app/layout.tsx, src/components/ui/StatusBadge.tsx</files>
  <action>
**layout.tsx — Full rewrite:**

1. Remove Inter font import and `next/font/google` import entirely.

2. Add Fontshare font loading in `<head>`:
   ```tsx
   <head>
     <link rel="preconnect" href="https://api.fontshare.com" />
     <link
       href="https://api.fontshare.com/v2/css?f[]=cabinet-grotesk@400,700,800&f[]=satoshi@400,500,700&display=swap"
       rel="stylesheet"
     />
   </head>
   ```

3. Remove `inter.variable` from `<html>` className. Keep `lang="en"`.

4. Update `<body>` classes: `bg-navy font-sans text-primary antialiased` (font-sans now maps to Satoshi via @theme inline).

5. Add skip navigation link as first child of `<body>`:
   ```tsx
   <a href="#main-content" className="skip-nav">Skip to content</a>
   ```

6. Add background mesh div after skip nav:
   ```tsx
   <div className="bg-mesh" aria-hidden="true" />
   ```

7. Replace the current `<header>` with a sticky floating navbar:
   ```tsx
   <header className="sticky top-0 z-50 px-4 py-3 md:px-6">
     <nav
       className="mx-auto flex max-w-7xl items-center justify-between rounded-2xl border border-white/[0.08] bg-navy/85 px-6 py-3 backdrop-blur-xl"
       aria-label="Main navigation"
     >
       <Link href="/" className="flex items-center gap-3">
         {/* Brand mark: gradient square */}
         <div className="flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-teal to-purple">
           <svg className="h-4 w-4 text-navy" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
             <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
           </svg>
         </div>
         <span className="font-display text-lg font-extrabold tracking-tight text-primary">
           Ryder.AI
         </span>
       </Link>

       {/* Nav links — hidden on mobile */}
       <div className="hidden items-center gap-1 md:flex">
         <Link href="/" className="rounded-pill px-4 py-2 text-sm font-medium text-muted transition-colors hover:bg-white/[0.05] hover:text-primary">
           Home
         </Link>
         <Link href="/search" className="rounded-pill px-4 py-2 text-sm font-medium text-muted transition-colors hover:bg-white/[0.05] hover:text-primary">
           Search
         </Link>
       </div>

       {/* Search bar */}
       <Suspense fallback={<div className="h-10 w-full max-w-xs" />}>
         <SearchBar />
       </Suspense>
     </nav>
   </header>
   ```

8. Wrap `{children}` in a `<main>` tag with id for skip nav:
   ```tsx
   <main id="main-content" className="relative z-10">
     {children}
   </main>
   ```

Keep existing imports: `Link`, `Suspense`, `SearchBar`.
Remove: `Inter` import from `next/font/google`.

**StatusBadge.tsx — Redesign to pill with colored dot:**

Replace with the design from RESEARCH.md:

```tsx
type Status = "in-progress" | "stable" | "complete";

interface StatusBadgeProps {
  status: Status;
}

const statusConfig: Record<Status, { classes: string; dotColor: string; label: string }> = {
  stable: {
    classes: "border-teal/20 bg-teal/10 text-teal",
    dotColor: "bg-teal",
    label: "Stable",
  },
  "in-progress": {
    classes: "border-amber/20 bg-amber/10 text-amber",
    dotColor: "bg-amber",
    label: "In Progress",
  },
  complete: {
    classes: "border-complete/20 bg-complete/10 text-complete",
    dotColor: "bg-complete",
    label: "Complete",
  },
};

export function StatusBadge({ status }: StatusBadgeProps) {
  const config = statusConfig[status] ?? statusConfig.stable;

  return (
    <span
      className={`inline-flex items-center gap-1.5 rounded-pill border px-3 py-1 text-xs font-medium ${config.classes}`}
    >
      <span className={`h-1.5 w-1.5 rounded-full ${config.dotColor}`} aria-hidden="true" />
      {config.label}
    </span>
  );
}
```

Note: Uses `rounded-pill` which maps to `border-radius: 100px` from the @theme. Uses `bg-teal/10` opacity syntax for background tints. Uses `--color-complete: #22C55E` from theme.
  </action>
  <verify>Run `npx next build` — build should succeed. Verify the layout loads fonts from Fontshare, has glass navbar, skip nav, background mesh. Verify StatusBadge exports without errors.</verify>
  <done>Layout has Fontshare fonts (Cabinet Grotesk + Satoshi), glass navbar with brand mark and nav links, skip navigation link, background mesh. StatusBadge renders as pill with colored dot indicator for all three statuses. Build succeeds.</done>
</task>

</tasks>

<verification>
1. `npx next build` succeeds without errors
2. globals.css contains @theme with navy, teal, amber, purple, complete, elevated, glass, code-bg colors
3. globals.css contains font-display and font-body font families
4. globals.css contains background mesh, skip-nav, prefers-reduced-motion, focus-visible rules
5. layout.tsx loads Fontshare fonts with preconnect
6. layout.tsx has glass navbar with backdrop blur
7. layout.tsx has skip navigation link
8. layout.tsx has background mesh div
9. StatusBadge uses pill shape with colored dot indicator
</verification>

<success_criteria>
- Build completes successfully
- All design tokens defined in @theme (colors, fonts, radius, animations)
- Dark navy background applied site-wide
- Fontshare fonts loading via external CSS link
- Glass navbar with backdrop blur visible
- Skip navigation appears on Tab key focus
- Background mesh gradient visible
- StatusBadge displays as pill with dot for stable, in-progress, complete
- prefers-reduced-motion disables all animations
- Focus-visible shows teal outline
</success_criteria>

<output>
After completion, create `.planning/phases/08-design-polish/08-01-SUMMARY.md`
</output>
