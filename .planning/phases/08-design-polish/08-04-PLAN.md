---
phase: 08-design-polish
plan: 04
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - src/app/[category]/page.tsx
  - src/app/search/page.tsx
  - src/app/tags/[tag]/page.tsx
  - src/app/not-found.tsx
  - src/app/[category]/not-found.tsx
  - src/app/[category]/[slug]/not-found.tsx
  - src/components/search/SearchBar.tsx
  - src/components/search/SearchResults.tsx
autonomous: true

must_haves:
  truths:
    - "Category page has dark theme with back link as pill button and article list"
    - "Search page has dark theme styling with teal accents"
    - "Tag page has dark theme styling matching category page pattern"
    - "All not-found pages have dark theme with teal accent button"
    - "SearchBar has glass/dark styling with teal focus ring"
    - "SearchResults text uses dark theme muted/primary colors"
    - "All back links are pill-shaped with teal accent"
  artifacts:
    - path: "src/app/[category]/page.tsx"
      provides: "Dark-themed category listing page"
      contains: "text-primary"
    - path: "src/app/search/page.tsx"
      provides: "Dark-themed search page"
      contains: "text-primary"
    - path: "src/app/tags/[tag]/page.tsx"
      provides: "Dark-themed tag listing page"
      contains: "text-primary"
    - path: "src/components/search/SearchBar.tsx"
      provides: "Glass-styled search input"
      contains: "border-white"
    - path: "src/app/not-found.tsx"
      provides: "Dark-themed 404 page"
      contains: "bg-teal"
  key_links:
    - from: "src/app/[category]/page.tsx"
      to: "src/components/ui/ArticleCard.tsx"
      via: "ArticleCard import"
      pattern: "ArticleCard"
    - from: "src/components/search/SearchResults.tsx"
      to: "src/components/ui/ArticleCard.tsx"
      via: "ArticleCard import"
      pattern: "ArticleCard"
---

<objective>
Apply dark theme styling to all secondary pages (category, search, tag, not-found) and search components (SearchBar, SearchResults). These are all class-swap transformations — changing light gray classes to dark navy theme classes.

Purpose: Every page must match the dark theme for visual consistency. These pages were styled for a white background in prior phases and need updating to the new dark navy palette.
Output: All secondary pages and search components use dark theme colors, glass effects, and teal accents.
</objective>

<execution_context>
@C:/Users/Karl/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Karl/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-design-polish/08-CONTEXT.md
@.planning/phases/08-design-polish/08-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Category, search, and tag page dark theme</name>
  <files>src/app/[category]/page.tsx, src/app/search/page.tsx, src/app/tags/[tag]/page.tsx</files>
  <action>
Apply the same dark theme pattern to all three listing pages. These follow a common structure: back link, heading, description, article list grid.

**src/app/[category]/page.tsx:**

Replace light-themed classes with dark theme equivalents:

1. Container: Keep `mx-auto max-w-7xl px-6 py-12` (bump max-w from 5xl to 7xl for consistency)

2. Back link — change from `text-sm text-gray-600 hover:text-gray-900` to pill button style:
   ```tsx
   <Link
     href="/"
     className="mb-8 inline-flex items-center gap-2 rounded-pill border border-white/[0.08] bg-glass px-4 py-2 text-sm font-medium text-teal backdrop-blur-sm transition-colors hover:border-teal/50 hover:bg-teal/10"
   >
     <span aria-hidden="true">←</span>
     Back to Home
   </Link>
   ```

3. Heading: `text-gray-900` → `text-primary`, add `font-display tracking-tight`

4. Article count text: `text-gray-600` → `text-muted`

5. Empty state text: `text-gray-600` → `text-muted`

6. Article grid: Change from `grid-cols-1 gap-4 md:grid-cols-2 md:gap-6` to `space-y-3` (single column list, since ArticleCard is now a horizontal list row, not a card grid)

**src/app/search/page.tsx:**

1. Container: `max-w-5xl` → `max-w-7xl`

2. Back link: Same pill button pattern as category page

3. Heading: `text-gray-900` → `text-primary`, add `font-display tracking-tight`

4. Search query text: `text-gray-600` → `text-muted`

5. Remove the duplicate `<SearchBar />` in the page body — the global navbar already has one. If the SearchBar in the page body is desired for UX (visible on the search results page), keep it but ensure it matches the dark styling.

Actually, looking at the current code, the search page has its own SearchBar which is useful for UX focus on the search page. Keep it, but wrap in a styled container:
   ```tsx
   <div className="mb-8 max-w-xl">
     <Suspense fallback={<div className="h-10" />}>
       <SearchBar />
     </Suspense>
   </div>
   ```

**src/app/tags/[tag]/page.tsx:**

1. Container: `max-w-5xl` → `max-w-7xl`

2. Back link: Same pill button pattern as category page

3. Heading: `text-gray-900` → `text-primary`, add `font-display tracking-tight`

4. Article count text: `text-gray-600` → `text-muted`

5. Article grid: Change from `grid-cols-1 gap-4 md:grid-cols-2 md:gap-6` to `space-y-3` (list layout for ArticleCard rows)
  </action>
  <verify>Run `npx next build` — all pages build successfully. Category, search, and tag pages use dark theme classes.</verify>
  <done>Category, search, and tag pages all use dark theme: navy background, primary/muted text, pill-shaped back links with teal accent, article list layout. No gray-* classes remain.</done>
</task>

<task type="auto">
  <name>Task 2: Not-found pages and search components dark theme</name>
  <files>src/app/not-found.tsx, src/app/[category]/not-found.tsx, src/app/[category]/[slug]/not-found.tsx, src/components/search/SearchBar.tsx, src/components/search/SearchResults.tsx</files>
  <action>
**All three not-found pages** — update with same pattern:

Replace light theme with dark theme:

```tsx
export default function NotFound() {
  return (
    <div className="flex min-h-[60vh] items-center justify-center px-6">
      <div className="text-center">
        <h1 className="mb-4 font-display text-4xl font-bold text-primary">
          Page Not Found
        </h1>
        <p className="mb-8 text-lg text-muted">
          The page you're looking for doesn't exist or has been moved.
        </p>
        <Link
          href="/"
          className="inline-block rounded-pill bg-teal px-6 py-3 font-medium text-navy transition hover:bg-teal/90"
        >
          Back to Home
        </Link>
      </div>
    </div>
  );
}
```

For `[category]/not-found.tsx` — link to `/${category}` if category param is available, otherwise `/`. Check existing code for category-specific not-found. If it just links home, that's fine.

For `[category]/[slug]/not-found.tsx` — similar pattern with "Back to Home" link.

Change `min-h-screen` to `min-h-[60vh]` since the navbar takes some height.

**src/components/search/SearchBar.tsx:**

Update the search input styling from light to dark glass theme:

1. Search icon: `text-gray-400` → `text-muted`

2. Input field: Replace `border border-gray-200 ... focus:border-gray-300 focus:ring-1 focus:ring-gray-300` with:
   ```
   border border-white/[0.08] bg-glass text-primary placeholder:text-muted backdrop-blur-sm focus:border-teal/50 focus:outline-none focus:ring-1 focus:ring-teal/50
   ```

3. Keep the rounded-lg, py-2, pl-10, pr-3, text-sm classes.

**src/components/search/SearchResults.tsx:**

Update text colors:

1. Loading state: `text-gray-500` → `text-muted`
2. No query prompt: `text-gray-500` → `text-muted`
3. No results heading: `text-gray-500` → `text-muted`
4. No results detail: `text-sm` stays, ensure parent `text-muted`
5. Results grid: Change from `grid-cols-1 gap-4 md:grid-cols-2 md:gap-6` to `space-y-3` (list layout matching the ArticleCard row design)
  </action>
  <verify>Run `npx next build` — build succeeds. All not-found pages, SearchBar, and SearchResults use dark theme classes. No gray-* classes remain in any modified file.</verify>
  <done>All not-found pages display with dark theme and teal "Back to Home" button. SearchBar has glass styling with teal focus ring. SearchResults uses muted text colors and list layout for results. No light-mode gray-* classes remain.</done>
</task>

</tasks>

<verification>
1. `npx next build` succeeds without errors
2. Category page has dark theme with pill back link, primary heading, muted description
3. Search page has dark theme with pill back link, teal-focused search input
4. Tag page has dark theme matching category page pattern
5. All three not-found pages have dark theme with teal "Back to Home" button
6. SearchBar has glass background, subtle border, teal focus ring
7. SearchResults shows muted text for loading/empty/error states
8. No gray-100, gray-200, gray-500, gray-600, gray-800, gray-900 classes remain in any modified file
9. All article listings use space-y-3 list layout (not card grid)
</verification>

<success_criteria>
- All pages in the site use consistent dark navy theme
- No light-mode gray-* Tailwind classes remain in any modified file
- Back links are pill-shaped with teal accent on all pages
- SearchBar has glass effect with teal focus state
- Not-found pages have teal accent button
- Article listings use list layout on all pages
</success_criteria>

<output>
After completion, create `.planning/phases/08-design-polish/08-04-SUMMARY.md`
</output>
